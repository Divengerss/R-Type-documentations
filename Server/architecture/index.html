
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../Guidlines/workflow/">
      
      
        <link rel="next" href="../ECS/Component/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.2">
    
    
      
        <title>Architecture - R-Type Networked</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.b2ea3d00.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="R-Type Networked" class="md-header__button md-logo" aria-label="R-Type Networked" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            R-Type Networked
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="R-Type Networked" class="md-nav__button md-logo" aria-label="R-Type Networked" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    R-Type Networked
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Game
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Game
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Client
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Client
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Game/Client/client/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client Documentation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Guidlines
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guidlines
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Guidlines/CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributor Covenant Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Guidlines/CONTRIBUTE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Guidlines/workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pull Request Workflow
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Server
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Server
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cfg-config-files" class="md-nav__link">
    CFG Config files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constructorsdestructors" class="md-nav__link">
    Constructors/Destructors
  </a>
  
    <nav class="md-nav" aria-label="Constructors/Destructors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-default-ctor" class="md-nav__link">
    Server default ctor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server" class="md-nav__link">
    ~Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getters" class="md-nav__link">
    Getters
  </a>
  
    <nav class="md-nav" aria-label="Getters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getiocontext" class="md-nav__link">
    getIoContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getioservice" class="md-nav__link">
    getIoService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gethost" class="md-nav__link">
    getHost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getport" class="md-nav__link">
    getPort()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getserverendpoint" class="md-nav__link">
    getServerEndpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getsocket" class="md-nav__link">
    getSocket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getasioerrorcode" class="md-nav__link">
    getAsioErrorCode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getclients" class="md-nav__link">
    getClients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpacket" class="md-nav__link">
    getPacket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setters" class="md-nav__link">
    Setters
  </a>
  
    <nav class="md-nav" aria-label="Setters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sethost" class="md-nav__link">
    setHost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setport" class="md-nav__link">
    setPort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setconnection" class="md-nav__link">
    setConnection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setserverinstance" class="md-nav__link">
    setServerInstance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setpacket" class="md-nav__link">
    setPacket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    Miscellaneous
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writetologs" class="md-nav__link">
    writeToLogs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issocketopen" class="md-nav__link">
    isSocketOpen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setpacket_1" class="md-nav__link">
    setPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fillbufferfromrequest" class="md-nav__link">
    fillBufferFromRequest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendresponse" class="md-nav__link">
    sendResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendsparsearray" class="md-nav__link">
    sendSparseArray
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receivecallback" class="md-nav__link">
    receiveCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receive" class="md-nav__link">
    receive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#startserver" class="md-nav__link">
    startServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopserver" class="md-nav__link">
    stopServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signalhandler" class="md-nav__link">
    signalHandler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addclient" class="md-nav__link">
    addClient
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removeclient" class="md-nav__link">
    removeClient
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ECS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            ECS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ECS/Component/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Component
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ECS/Entity/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Entity
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ECS/Registry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ECS/SparseArray/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SparseArray
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_5" >
        
          
          <label class="md-nav__link" for="__nav_4_2_5" id="__nav_4_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Systems
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_5">
            <span class="md-nav__icon md-icon"></span>
            Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ECS/Systems/Network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NetworkSystem
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protocol
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Protocol
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Protocol/binary_protocol/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Binary protocol
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3_2" >
        
          
          <label class="md-nav__link" for="__nav_4_3_2" id="__nav_4_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Packets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3_2">
            <span class="md-nav__icon md-icon"></span>
            Packets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Protocol/Packets/client_status/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Client status
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Protocol/Packets/connection_request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connection request
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Protocol/Packets/disconnection_request/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disconnection request
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Protocol/Packets/placeholder/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Placeholder
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#cfg-config-files" class="md-nav__link">
    CFG Config files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#constructorsdestructors" class="md-nav__link">
    Constructors/Destructors
  </a>
  
    <nav class="md-nav" aria-label="Constructors/Destructors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-default-ctor" class="md-nav__link">
    Server default ctor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server" class="md-nav__link">
    ~Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getters" class="md-nav__link">
    Getters
  </a>
  
    <nav class="md-nav" aria-label="Getters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getiocontext" class="md-nav__link">
    getIoContext
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getioservice" class="md-nav__link">
    getIoService
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gethost" class="md-nav__link">
    getHost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getport" class="md-nav__link">
    getPort()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getserverendpoint" class="md-nav__link">
    getServerEndpoint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getsocket" class="md-nav__link">
    getSocket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getasioerrorcode" class="md-nav__link">
    getAsioErrorCode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getclients" class="md-nav__link">
    getClients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpacket" class="md-nav__link">
    getPacket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setters" class="md-nav__link">
    Setters
  </a>
  
    <nav class="md-nav" aria-label="Setters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sethost" class="md-nav__link">
    setHost
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setport" class="md-nav__link">
    setPort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setconnection" class="md-nav__link">
    setConnection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setserverinstance" class="md-nav__link">
    setServerInstance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setpacket" class="md-nav__link">
    setPacket
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous" class="md-nav__link">
    Miscellaneous
  </a>
  
    <nav class="md-nav" aria-label="Miscellaneous">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writetologs" class="md-nav__link">
    writeToLogs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issocketopen" class="md-nav__link">
    isSocketOpen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setpacket_1" class="md-nav__link">
    setPacket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fillbufferfromrequest" class="md-nav__link">
    fillBufferFromRequest
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendresponse" class="md-nav__link">
    sendResponse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendsparsearray" class="md-nav__link">
    sendSparseArray
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receivecallback" class="md-nav__link">
    receiveCallback
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#receive" class="md-nav__link">
    receive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#startserver" class="md-nav__link">
    startServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stopserver" class="md-nav__link">
    stopServer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#signalhandler" class="md-nav__link">
    signalHandler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addclient" class="md-nav__link">
    addClient
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removeclient" class="md-nav__link">
    removeClient
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="architecture">Architecture</h1>
<p>The server should be self-explanatory when reading the source code, nevertheless, this documentation provides more details about the server workflow.</p>
<p>The server uses Asio non-boost C++20 to run.</p>
<p>The network code can be found under the <code>rtype</code> namespace included in the <code>Game.hpp</code>.</p>
<p>To instantiate a new server, simply call the <code>Server</code> class constructor and calls <code>startServer()</code> to start the server.
Just by doing that will run your server properly. However, you need to keep your program open or the server will close itself if the main returns.</p>
<p><img alt="Architecture" src="../architecture.png" /></p>
<p>Here is an example of implementation
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;Game.hpp&quot;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">{</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="n">rtype</span><span class="o">::</span><span class="n">loopSystem</span><span class="w"> </span><span class="n">game</span><span class="p">;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="n">game</span><span class="p">.</span><span class="n">runNetwork</span><span class="p">();</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="nb">true</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">        </span><span class="c1">// Game logics</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="p">}</span>
</span></code></pre></div></p>
<h2 id="cfg-config-files">CFG Config files</h2>
<p>The configuration file is required to run the server with modified settings.
It provides the host and port to listen to.</p>
<p>Here is the <code>server.cfg</code> file located inside the <code>resources</code> directory.
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a># Server config file
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a># IP Address to connect to
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>host=127.0.0.1
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a># Port of the host to connect to
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>port=12346
</span></code></pre></div></p>
<h2 id="constructorsdestructors">Constructors/Destructors</h2>
<h3 id="server-default-ctor">Server default ctor</h3>
<p><code>Network()</code></p>
<p>Network class ctor.
The ctor will seek a <code>.cfg</code> file for its configuration as mention before. If the file format is corrupted, a value can't be found or the file is missing, the default values are applied.
If unchanged in the code, they will be 127.0.0.1 for the host and 12346 for the port number</p>
<h3 id="server">~Server</h3>
<p><code>~Server()</code></p>
<p>The <code>Server</code> class destructor.</p>
<h2 id="getters">Getters</h2>
<h3 id="getiocontext">getIoContext</h3>
<p><code>asio::io_context &amp;getIoContext() const noexcept</code></p>
<p>Returns the Asio IO context.</p>
<h3 id="getioservice">getIoService</h3>
<p><code>asio::io_context &amp;getIoService() const noexcept</code></p>
<p>Returns the Asio IO Serivice.</p>
<h3 id="gethost">getHost</h3>
<p><code>const std::string &amp;getHost() const noexcept</code></p>
<p>Returns the Host string.</p>
<h3 id="getport">getPort()</h3>
<p><code>std::uint16_t getPort() const noexcept</code></p>
<p>Returns the Port number as an unsigned 16bits integer</p>
<h3 id="getserverendpoint">getServerEndpoint</h3>
<p><code>const asio::ip::udp::endpoint &amp;getServerEndpoint() const noexcept</code></p>
<p>Returns the server endpoint, the endpoint corresponds to the communication terminaison of the server.</p>
<h3 id="getsocket">getSocket</h3>
<p><code>const asio::ip::udp::socket &amp;getSocket() const noexcept</code></p>
<p>Returns the server socket.</p>
<h3 id="getasioerrorcode">getAsioErrorCode</h3>
<p><code>const asio::error_code &amp;getAsioErrorCode() const noexcept</code></p>
<p>Returns the Asio error code. This value is set whenever an error occures in the Asio context.</p>
<h3 id="getclients">getClients</h3>
<p><code>std::vector&lt;Client&gt; &amp;getClients() const noexcept</code></p>
<p>Returns the connected clients as a vector of Client class.</p>
<h3 id="getpacket">getPacket</h3>
<p><code>const std::array&lt;std::uint8_t, packetSize&gt; &amp;getClients() const noexcept</code></p>
<p>Returns the last packet received.</p>
<h2 id="setters">Setters</h2>
<h3 id="sethost">setHost</h3>
<p><code>void setHost(const std::string &amp;host)</code></p>
<p>Sets the server host.</p>
<h3 id="setport">setPort</h3>
<p><code>void setPort(std::uint16_t port)</code></p>
<p>Sets the server port</p>
<h3 id="setconnection">setConnection</h3>
<p><code>void setConnection(const std::string &amp;host, std::uint16_t port)</code></p>
<p>Sets the server host and port, This calls to the <code>setHost</code> and <code>setPort</code>.</p>
<h3 id="setserverinstance">setServerInstance</h3>
<p><code>static void setServerInstance(Server* instance)</code></p>
<p>Set the static variable <code>serverInstance</code> used to access class elements from the IO Service, mainly used to handle CTRL-C event.</p>
<h3 id="setpacket">setPacket</h3>
<p><code>void setPacket(T &amp;packet, packet::packetHeader &amp;header, T &amp;data)</code></p>
<p>Sets the packet from a <code>typename T</code> template packet, the packet header and its data.
This function will memory copy the <code>header</code> and <code>data</code> into the <code>packet</code>. The packet must be large enough to hold the header + data sizes.</p>
<h2 id="miscellaneous">Miscellaneous</h2>
<h3 id="writetologs">writeToLogs</h3>
<p><code>void writeToLogs(const std::string_view &amp;status, const std::string &amp;msg)</code></p>
<p>Allows to write into the server log a custom message.
The Logs.hpp file provided the following definitions for the <code>status</code>:
- logInfo
- logWarn
- logErr
- logGameInfo
- logGameWarn
- logGameErr</p>
<h3 id="issocketopen">isSocketOpen</h3>
<p><code>bool isSocketOpen() const noexcept</code></p>
<p>Returns true if the socket is open, false otherwise.</p>
<h3 id="setpacket_1">setPacket</h3>
<p><code>void setPacket(T &amp;packet, packet::packetHeader &amp;header, T &amp;data)</code></p>
<p>Memory moves the header and data into the packet, overwriting the potential existing data in the packet T.</p>
<h3 id="fillbufferfromrequest">fillBufferFromRequest</h3>
<p><code>void fillBufferFromRequest(T &amp;packet, std::size_t size)</code></p>
<p>Fills the <code>packet</code> given as parameter from the private variable <code>_packet</code> of the <code>Server</code> class.
This function will memory copy into <code>packet</code>.</p>
<h3 id="sendresponse">sendResponse</h3>
<p><code>void sendResponse(const packet::packetTypes &amp;type, T &amp;data, std::uint64_t roomId = std::numeric_limits&lt;std::uint64_t&gt;::max(), bool toServerEndpoint = false, const std::string cliUuid = "")</code></p>
<p>Builds a packet and sends it to all the clients in the given romm identifier if no <code>cliUuid</code> are provided.
The <code>packet</code> must not contains any header as it is generated using the <code>type</code> variable and the size of packet.
If the <code>cliUuid</code> is set, the packet will only be sent to the given client UUID. If the UUID is invalid or doesn't link to a valid client, the packet remains unsent.</p>
<h3 id="sendsparsearray">sendSparseArray</h3>
<p><code>void sendSparseArray(const packet::packetTypes &amp;type, sparse_array&lt;T&gt; &amp;sparseArray, std::uint64_t roomId, const std::string cliUuid = "")</code></p>
<p>Sends the given ECS sparse array type T to the clients in the room identifier or to a specific client is cliUuid is set.</p>
<h3 id="receivecallback">receiveCallback</h3>
<p><code>void receiveCallback(const asio::error_code &amp;errCode, std::size_t bytesReceived)</code></p>
<p>Handles the received packet type. This function is called from the asynchronous receiver function from Asio <code>socket.async_receive_from</code>.</p>
<h3 id="receive">receive</h3>
<p><code>void receive()</code></p>
<p>Start the asynchronous receive operations.</p>
<h3 id="startserver">startServer</h3>
<p><code>void startServer()</code></p>
<p>Start the server and calls everything required.</p>
<h3 id="stopserver">stopServer</h3>
<p><code>void stopServer()</code></p>
<p>Stop the server properly.</p>
<h3 id="signalhandler">signalHandler</h3>
<p><code>static void signalHandler(int signum)</code></p>
<p>Handles the signal events.</p>
<h3 id="addclient">addClient</h3>
<p><code>std::string addClient(std::uint64_t roomId)</code></p>
<p>Adds a new client to the client list in the given room identifier and returns its new UUID.</p>
<h3 id="removeclient">removeClient</h3>
<p><code>void removeClient(const std::string &amp;uuid)</code></p>
<p>Remove a client from the list given the uuid. If the client is not found, the client list remains unmodified.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.sections", "content.code.copy", "content.code.select"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.726fbb30.min.js"></script>
      
    
  </body>
</html>